<html>

<head>
    <title>Admin</title>

</head>
<link href="admin_css.css" rel="stylesheet" />
<body>
    <div align="center">
	<img src="Images/timetext_logo.png" alt="logo" width="40%" align="middle">
        <h1>Create, Delete, or View Tasks</h1> <strong>Task ID</strong>:
        <br>
        <input type="text" name="TaskID" id="TaskID">
		<br>
        <br> Message:
        <br>
        <input type="text" name="Message" id="Message">
        <br> To Number:
        <br>
        <input type="text" name="ToNumber" id="ToNumber">
        <br>Time Stamp
        <br>
		<input type="text" name="StampOfTime" id="StampOfTime">
        <br>
		<!-- <input type="submit" id="search" onclick=search() value="search"> -->
        <br>
        <input type="submit" id="saveTask" onclick=saveTask() value="Save Task">
        <br>
        <p id="orderSaved"></p>
        <input type="submit" id="deleteTask" onclick=deleteTask() value="Delete Task">
        <br>
        <!-- <input type="submit" id="editTask" onclick=editTask() value="Edit Task">
		<br> -->
		<br>
        <input type="submit" id="getATask" onclick=getATask() value="Get A Task">
		   
		</select>
		
		<br>
        <br>
        <input type="submit" id="getTasks" onclick=search() value="View all tasks">
		<br>
        <br>
		
		<div class="container">
                           <div class="row">
                              <div class="table-responsive">
                                 <table width=900 bgcolor=skyblue border=1 class="table table-striped w-auto">
                                    <thead>
                                       <tr>
                                          <th>#</th>
                                          <th>Task ID</th>
                                          <th>Message</th>
                                          <th>To Number</th>
                                          <th>Time</th>
                                       </tr>
                                    </thead>
                                    <tbody id="tasksTable"></tbody>
                                 </table>
                              </div>
                           </div>
                        </div>
		
        
        <br>
        <br>
        
    </div>
	
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js"></script>
	<script src="getTasks.js"></script>

	<script>
	<!-- document.getElementById("TaskID").value = moment("2016-78-19").isValid(); -->
	<!-- document.getElementById("Message").value = moment("2016-10-19").isBefore();//Before now... past -->
	<!-- document.getElementById("ToNumber").value = moment("2016-10-19").isAfter("2050-12-31");//after 2050 -->
	</script>
    <script>
        /*
            var jsonDoc = {
                "TableName": "Tasks",
                "Item": {
					
                    "TaskID": document.getElementById("TaskID").value,
                    "Message": document.getElementById("Message").value,
                    "ToNumber": document.getElementById("ToNumber").value,
					"StampOfTime": document.getElementById("StampOfTime").value
                }
            };
            $.ajax({
                url: "https://c6tap4pp8c.execute-api.us-east-1.amazonaws.com/default/CRUD?TableName=Tasks",
                type: "POST",
                data: JSON.stringify(jsonDoc),
                dataType: "json",
                success: function(jsonDoc) {
                    console.info(jsonDoc);
                    alert("Task Saved!");
                }
            }); */
        
		</script>
		<script>

       /*$(document).ready(function() {
            $("#getTasks").click(function() {
                $.get("https://c6tap4pp8c.execute-api.us-east-1.amazonaws.com/default/CRUD?TableName=Tasks&type=getTable", function(data, status) {
                    // alert("Data: " + data + "\nStatus: " + status);
                    $("#Tasks").text(JSON.stringify(data));
                });
            });
        }); */
/*
        function deleteTask() {
		if(document.getElementById("deleteTask").value =="")
	
		{
			alert("Please enter a Task ID");
			return;
		}
            var jsonDoc = {
                "TableName": "Tasks",
                "Key": {
                    "TaskID": document.getElementById("TaskID").value
                },
            };
            $.ajax({
                url: "https://c6tap4pp8c.execute-api.us-east-1.amazonaws.com/default/CRUD?TableName=Tasks",
                type: "delete",
                data: JSON.stringify(jsonDoc),
                dataType: "json",
                success: function(jsonDoc) {
                    console.info(jsonDoc);
                    alert("Item Deleted");
                }
            });
        }
		
		/*

		/*
        document.getElementById("editTask").onclick = function() {
		var a, b, c = "";
		
			a = document.getElementById("ToNumber").value;
			b = document.getElementById("Message").value;
			c = document.getElementById("StampOfTime").value;
			
			if(a == "")
				a = "" ;
			if(b == "")
				b = ":b";
			if(c == "")
				c = ":c";
				
				
            var jsonDoc = {
				
                "TableName": "Tasks",
                "Key": {
                    "TaskID": document.getElementById("TaskID").value
                },
                "UpdateExpression": "set ToNumber = :a, Message = :b, StampOfTime = :c",
				
                "ExpressionAttributeValues": {
                    ":a": a,
                    ":b": b,
					":c": c
                },
                "ReturnValues": "UPDATED_NEW"
            };
            $.ajax({
                url: "https://c6tap4pp8c.execute-api.us-east-1.amazonaws.com/default/CRUD?TableName=Tasks",
                type: "put",
                data: JSON.stringify(jsonDoc),
                dataType: "json",
                success: function(jsonDoc) {
                    console.info(jsonDoc);
                    alert("Task Edited!");
                }
            });
        }*/
    </script>
</body>
<img src="Images/powered_by_aws_logo.png" alt="logo" width="10%" style="position:fixed;bottom:75px;right:25px">
<img src="Images/powered_by_twilio_logo.png" alt="logo" width="15%" style="position:fixed;bottom:25px;right:0px">
</html>